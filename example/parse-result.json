{
  "type": "rsx_file",
  "sections": [
    {
      "type": "rust_section",
      "start": 0,
      "end": 238,
      "content": "use rsx::{Request, Response};\nuse api::{fetch_data};\n\nasync fn get_server_side_props(req: Request) -> Response {\n    let data = fetch_data().await;\n    Response::json!({\n        \"users\": data,\n        \"showAvatar\": false\n    })\n}",
      "ast": {
        "type": "source_file",
        "childCount": 3
      },
      "errors": []
    },
    {
      "type": "script_section",
      "start": 239,
      "end": 529,
      "content": "import { defineProps } from 'rsx';\nimport App from './react/app.tsx';\n\ninterface User {\n    id: string;\n    name: string;\n    email: string;\n    avatar?: string;\n}\n\nconst { users, onUserClick, showAvatar } = defineProps<{\n    users: User[];\n    showAvatar: boolean;\n}>();",
      "ast": {
        "type": "program",
        "childCount": 4
      },
      "errors": []
    },
    {
      "type": "template_section",
      "start": 531,
      "end": 1506,
      "content": "<div class=\"user-container\">\n        <h1>Hello, {{ name }}!</h1>\n\n        {{#if users.length > 0}}\n            <ul class=\"user-list\">\n                {{@each users as user, index}}\n                    <li class=\"user-item {{ showAvatar ? 'with-avatar' : 'no-avatar' }}\"\n                        data-index=\"{{ index }}\">\n                        {{#if showAvatar && user.avatar}}\n                            <img src=\"{{ user.avatar }}\" alt=\"{{ user.name }}\" />\n                        {{/if}}\n                        <span class=\"user-name\">{{ user.name }}</span>\n                        <span class=\"user-email\">{{ user.email }}</span>\n                    </li>\n                {{/each}}\n            </ul>\n        {{:else}}\n            <p class=\"empty-message\">No users found.</p>\n        {{/if}}\n\n        <div class=\"raw-content\">\n            {{@html rawHtmlContent}}\n        </div>\n\n        <App client=\"react\" users=\"{{users}}\"></App>\n    </div>",
      "ast": {
        "type": "document",
        "childCount": 1
      },
      "directives": [
        {
          "type": "each_directive",
          "array": "users",
          "item": "user",
          "index": "index",
          "body": "<li class=\"user-item {{ showAvatar ? 'with-avatar' : 'no-avatar' }}\"\n                        data-index=\"{{ index }}\">\n                        {{#if showAvatar && user.avatar}}\n                            <img src=\"{{ user.avatar }}\" alt=\"{{ user.name }}\" />\n                        {{/if}}\n                        <span class=\"user-name\">{{ user.name }}</span>\n                        <span class=\"user-email\">{{ user.email }}</span>\n                    </li>",
          "start": 39,
          "end": 576,
          "original": "{{@each users as user, index}}\n                    <li class=\"user-item {{ showAvatar ? 'with-avatar' : 'no-avatar' }}\"\n                        data-index=\"{{ index }}\">\n                        {{#if showAvatar && user.avatar}}\n                            <img src=\"{{ user.avatar }}\" alt=\"{{ user.name }}\" />\n                        {{/if}}\n                        <span class=\"user-name\">{{ user.name }}</span>\n                        <span class=\"user-email\">{{ user.email }}</span>\n                    </li>\n                {{/each}}"
        },
        {
          "type": "if_directive",
          "condition": "users.length > 0",
          "branches": [
            {
              "type": "if",
              "condition": "users.length > 0",
              "body": "<ul class=\"user-list\">\n                {{@each users as user, index}}\n                    <li class=\"user-item {{ showAvatar ? 'with-avatar' : 'no-avatar' }}\"\n                        data-index=\"{{ index }}\">\n                        {{#if showAvatar && user.avatar}}\n                            <img src=\"{{ user.avatar }}\" alt=\"{{ user.name }}\" />\n                        {{/if}}\n                        <span class=\"user-name\">{{ user.name }}</span>\n                        <span class=\"user-email\">{{ user.email }}</span>\n                    </li>\n                {{/each}}\n            </ul>",
              "processedBody": "<ul class=\"user-list\">\n                <!-- EACH_DIRECTIVE_0 -->\n            </ul>"
            },
            {
              "type": "else",
              "condition": null,
              "body": "<p class=\"empty-message\">No users found.</p>",
              "processedBody": "<p class=\"empty-message\">No users found.</p>"
            }
          ],
          "start": 74,
          "end": 796,
          "original": "{{#if users.length > 0}}\n            <ul class=\"user-list\">\n                {{@each users as user, index}}\n                    <li class=\"user-item {{ showAvatar ? 'with-avatar' : 'no-avatar' }}\"\n                        data-index=\"{{ index }}\">\n                        {{#if showAvatar && user.avatar}}\n                            <img src=\"{{ user.avatar }}\" alt=\"{{ user.name }}\" />\n                        {{/if}}\n                        <span class=\"user-name\">{{ user.name }}</span>\n                        <span class=\"user-email\">{{ user.email }}</span>\n                    </li>\n                {{/each}}\n            </ul>\n        {{:else}}\n            <p class=\"empty-message\">No users found.</p>\n        {{/if}}"
        },
        {
          "type": "raw_html_directive",
          "content": "rawHtmlContent",
          "start": 145,
          "end": 169,
          "original": "{{@html rawHtmlContent}}"
        },
        {
          "type": "interpolation",
          "expression": "name",
          "parsedExpression": {
            "type": "identifier",
            "raw": "name",
            "parts": [],
            "name": "name"
          },
          "start": 48,
          "end": 58,
          "original": "{{ name }}"
        },
        {
          "type": "interpolation",
          "expression": "users",
          "parsedExpression": {
            "type": "identifier",
            "raw": "users",
            "parts": [],
            "name": "users"
          },
          "start": 216,
          "end": 225,
          "original": "{{users}}"
        },
        {
          "type": "client_component",
          "tagName": "App",
          "clientType": "react",
          "attributes": {
            "client": "react",
            "users": true,
            "INTERPOLATION_4": true
          },
          "children": "\">",
          "start": 203,
          "end": 262,
          "original": "<App client=\"react\" users=\"<!-- INTERPOLATION_4 -->\"></App>"
        }
      ],
      "errors": []
    },
    {
      "type": "style_section",
      "start": 1508,
      "end": 2242,
      "content": ".user-container {\n    padding: 20px;\n    max-width: 800px;\n    margin: 0 auto;\n}\n\n.user-list {\n    list-style: none;\n    padding: 0;\n\n    .user-item {\n        display: flex;\n        align-items: center;\n        padding: 10px;\n        border-bottom: 1px solid #eee;\n\n        &.with-avatar {\n            padding-left: 60px;\n        }\n\n        img {\n            width: 40px;\n            height: 40px;\n            border-radius: 50%;\n            margin-right: 10px;\n        }\n\n        .user-name {\n            font-weight: bold;\n            margin-right: 10px;\n        }\n\n        .user-email {\n            color: #666;\n        }\n    }\n}\n\n.empty-message {\n    text-align: center;\n    color: #999;\n    font-style: italic;\n}",
      "ast": {
        "type": "stylesheet",
        "childCount": 3
      },
      "errors": []
    }
  ],
  "errors": [],
  "originalContent": "---\nuse rsx::{Request, Response};\nuse api::{fetch_data};\n\nasync fn get_server_side_props(req: Request) -> Response {\n    let data = fetch_data().await;\n    Response::json!({\n        \"users\": data,\n        \"showAvatar\": false\n    })\n}\n---\n\n<script>\nimport { defineProps } from 'rsx';\nimport App from './react/app.tsx';\n\ninterface User {\n    id: string;\n    name: string;\n    email: string;\n    avatar?: string;\n}\n\nconst { users, onUserClick, showAvatar } = defineProps<{\n    users: User[];\n    showAvatar: boolean;\n}>();\n</script>\n\n<template>\n    <div class=\"user-container\">\n        <h1>Hello, {{ name }}!</h1>\n\n        {{#if users.length > 0}}\n            <ul class=\"user-list\">\n                {{@each users as user, index}}\n                    <li class=\"user-item {{ showAvatar ? 'with-avatar' : 'no-avatar' }}\"\n                        data-index=\"{{ index }}\">\n                        {{#if showAvatar && user.avatar}}\n                            <img src=\"{{ user.avatar }}\" alt=\"{{ user.name }}\" />\n                        {{/if}}\n                        <span class=\"user-name\">{{ user.name }}</span>\n                        <span class=\"user-email\">{{ user.email }}</span>\n                    </li>\n                {{/each}}\n            </ul>\n        {{:else}}\n            <p class=\"empty-message\">No users found.</p>\n        {{/if}}\n\n        <div class=\"raw-content\">\n            {{@html rawHtmlContent}}\n        </div>\n\n        <App client=\"react\" users=\"{{users}}\"></App>\n    </div>\n</template>\n\n<style>\n.user-container {\n    padding: 20px;\n    max-width: 800px;\n    margin: 0 auto;\n}\n\n.user-list {\n    list-style: none;\n    padding: 0;\n\n    .user-item {\n        display: flex;\n        align-items: center;\n        padding: 10px;\n        border-bottom: 1px solid #eee;\n\n        &.with-avatar {\n            padding-left: 60px;\n        }\n\n        img {\n            width: 40px;\n            height: 40px;\n            border-radius: 50%;\n            margin-right: 10px;\n        }\n\n        .user-name {\n            font-weight: bold;\n            margin-right: 10px;\n        }\n\n        .user-email {\n            color: #666;\n        }\n    }\n}\n\n.empty-message {\n    text-align: center;\n    color: #999;\n    font-style: italic;\n}\n</style>\n"
}